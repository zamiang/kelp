/* Enhanced CSS Entry Point - Phase 4 Complete */

/* Shared design tokens (load first) */
@import './shared/design-tokens.css';

/* Base styles */
@import './base/reset.css';
@import './base/variables.css';
@import './base/typography.css';

/* Theme styles */
@import './themes/dark.css';
@import './themes/light.css';
@import './themes/cool.css';
@import './themes/nb.css';

/* Component styles - Enhanced Phase 4 */
@import './components/app.css';
@import './components/app-auth.css';
@import './components/app-loading.css';
@import './components/app-responsive.css';
@import './components/dashboard.css';
@import './components/dashboard-extension.css';

@import './components/dashboard/desktop-dashboard.css';
@import './components/meeting/featured-meeting.css';
@import './components/onboarding/onboarding.css';

/* Global Styles */
html {
  /* Ensure CSS custom properties are available */
  color-scheme: light dark;
}

/* Default theme (fallback) */
html:not([data-theme]) {
  /* Apply default theme based on system preference */
}

@media (prefers-color-scheme: dark) {
  html:not([data-theme]) {
    --color-background: #262736;
    --color-surface: #50505a;
    --color-primary: #7c4dff;
    --color-text-primary: rgba(255, 255, 255, 0.87);
    --color-text-secondary: rgba(255, 255, 255, 0.6);
    --color-text-disabled: rgba(255, 255, 255, 0.38);
    --color-border: rgba(255, 255, 255, 0.12);
    --color-divider: rgba(255, 255, 255, 0.12);
    --color-hover-overlay: rgba(255, 255, 255, 0.04);
    --color-focus-overlay: rgba(255, 255, 255, 0.12);
    --color-pressed-overlay: rgba(255, 255, 255, 0.16);
  }
}

@media (prefers-color-scheme: light) {
  html:not([data-theme]) {
    --color-background: #fbf2dd;
    --color-surface: #ffffff;
    --color-primary: #7c4dff;
    --color-text-primary: rgba(0, 0, 0, 0.87);
    --color-text-secondary: rgba(0, 0, 0, 0.6);
    --color-text-disabled: rgba(0, 0, 0, 0.38);
    --color-border: rgba(0, 0, 0, 0.12);
    --color-divider: rgba(0, 0, 0, 0.12);
    --color-hover-overlay: rgba(0, 0, 0, 0.04);
    --color-focus-overlay: rgba(0, 0, 0, 0.12);
    --color-pressed-overlay: rgba(0, 0, 0, 0.16);
  }
}

/* Theme transition animations */
html {
  transition:
    background-color var(--transition-normal),
    color var(--transition-normal);
}

* {
  transition:
    background-color var(--transition-normal),
    border-color var(--transition-normal),
    color var(--transition-normal);
}

/* Disable transitions during theme changes to prevent flashing */
html.theme-changing * {
  transition: none !important;
}

/* Focus visible styles for better accessibility */
:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

/* Utility classes */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Loading animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.loading-spinner {
  animation: spin 1s linear infinite;
}

/* Fade in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn var(--transition-normal) ease-out;
}

/* Slide in animation */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-in {
  animation: slideIn var(--transition-normal) ease-out;
}

/* Disable animations for reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .loading-spinner {
    animation: none;
  }
}
